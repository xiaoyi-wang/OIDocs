(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{47:function(t,i,s){t.exports=s.p+"assets/img/pay-graph2.e2d25846.png"},48:function(t,i,s){t.exports=s.p+"assets/img/login-graph.748ea0fd.png"},58:function(t,i,s){"use strict";s.r(i);var e=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"content"},[e("h2",{attrs:{id:"登陆注册流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#登陆注册流程","aria-hidden":"true"}},[t._v("#")]),t._v(" 登陆注册流程")]),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("当前文档版本")]),e("p",[t._v("Version: "),e("strong",[t._v("1.0.0")]),e("br")])]),e("p",[e("img",{attrs:{src:s(48),alt:""}})]),e("ol",[e("li",[t._v("游戏调用 SDK的登录接口")]),e("li",[t._v("游戏拿到登录回调结果，如果 tokenInfo不为空，就按 Token流程继续处理步骤 3、4、5、6，否则就直接拿到userID跟userAccount")]),e("li",[t._v("游戏拿到 tokenInfo传给自己的游戏服务器")]),e("li",[t._v("游戏服务器把 tokenInfo传给平台服务器做验证")]),e("li",[t._v("平台服务器以 JSON方式返回验证结果")]),e("li",[t._v("游戏服务器把验证结果传回游戏中，根据 tokenCode 判断是否有效")])]),e("h2",{attrs:{id:"支付流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#支付流程","aria-hidden":"true"}},[t._v("#")]),t._v(" 支付流程")]),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),e("p",[t._v("APP客户端调用支付接口时，需指定支付结果的通知回调地址notify_uri"),e("br"),t._v("\nAPP支付流程完成后，平台Server会把支付结果以POST方式通知给notify_uri"),e("br"),t._v("\nnotify_uri接收到参数后，游戏Server须进行"),e("code",[t._v("参数验证")]),t._v("和"),e("code",[t._v("发货状态验证")]),t._v("，如果参数合法且未发货，则给用户做游戏内充值。"),e("br")])]),e("p",[e("img",{attrs:{src:s(47),alt:""}})]),e("ol",[e("li",[t._v("游戏调用 SDK的支付接口")]),e("li",[t._v("平台服务器返回支付结果")]),e("li",[t._v("如果支付成功，则发送支付购买的结果到游戏服务器")]),e("li",[t._v("游戏服务器如果收到消息，则回应200")]),e("li",[t._v("游戏服务器通知游戏客户端发货成功")])]),e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[t._v("注意事项")]),e("p",[e("strong",[t._v("notify_uri在接收到通知消息后，回应200表示请求已经接收，无需平台服重复请求该地址进行通知。")]),e("br"),e("strong",[t._v("如果未及时响应200状态码，则平台会触发重发机制。")])])]),e("h2",{attrs:{id:"更新日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新日志","aria-hidden":"true"}},[t._v("#")]),t._v(" 更新日志")]),e("table",[e("thead",[e("tr",[e("th",[t._v("版本号")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("更新内容")]),e("th",{staticStyle:{"text-align":"right"}},[t._v("推出时间")]),e("th",{staticStyle:{"text-align":"right"}},[t._v("停用时间")])])]),e("tbody",[e("tr",[e("td",[t._v("1.0.0")]),e("td",{staticStyle:{"text-align":"center"}},[t._v("新增")]),e("td",{staticStyle:{"text-align":"right"}},[t._v("2018-05-30 12:00:00")]),e("td",{staticStyle:{"text-align":"right"}},[t._v("待定")])])])])])}],a=s(0),r=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},e,!1,null,null,null);i.default=r.exports}}]);