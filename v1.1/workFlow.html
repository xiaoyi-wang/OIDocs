<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MYTHS SDK 接入文档 | 登陆注册流程</title>
    <meta name="description" content="全球游戏发行商">
    <link rel="icon" href="/OIDocs/logo.png">
    
    <link rel="preload" href="/OIDocs/assets/css/13.styles.232cbde2.css" as="style"><link rel="preload" href="/OIDocs/assets/js/app.665dcb49.js" as="script"><link rel="preload" href="/OIDocs/assets/js/0.972f1dbe.js" as="script"><link rel="prefetch" href="/OIDocs/assets/js/4.c4a657f0.js"><link rel="prefetch" href="/OIDocs/assets/js/1.cdee4951.js"><link rel="prefetch" href="/OIDocs/assets/js/2.40af7afb.js"><link rel="prefetch" href="/OIDocs/assets/js/3.d363e8fe.js"><link rel="prefetch" href="/OIDocs/assets/js/5.1df604a5.js"><link rel="prefetch" href="/OIDocs/assets/js/6.89cc0e93.js"><link rel="prefetch" href="/OIDocs/assets/js/7.a185222b.js"><link rel="prefetch" href="/OIDocs/assets/js/8.594abe54.js"><link rel="prefetch" href="/OIDocs/assets/js/9.ac3544c8.js"><link rel="prefetch" href="/OIDocs/assets/js/10.1b2feade.js"><link rel="prefetch" href="/OIDocs/assets/js/11.e9883471.js"><link rel="prefetch" href="/OIDocs/assets/js/12.98349053.js">
    <link rel="stylesheet" href="/OIDocs/assets/css/13.styles.232cbde2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/OIDocs/" class="home-link router-link-active"><!----><span class="site-name">
      MYTHS SDK 接入文档
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/OIDocs/" class="nav-link">Home</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/OIDocs/" class="nav-link">Home</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>SDK接入文档 v1.1</span><!----></p><ul class="sidebar-group-items"><li><a href="/OIDocs/v1.1/server.html" class="sidebar-link">Server接入文档</a></li><li><a href="/OIDocs/v1.1/ios.html" class="sidebar-link">iOS接入文档</a></li><li><a href="/OIDocs/v1.1/android.html" class="sidebar-link">Android接入文档</a></li><li><a href="/OIDocs/v1.1/workFlow.html" class="active sidebar-link">业务流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OIDocs/v1.1/workFlow.html#登陆注册流程" class="sidebar-link">登陆注册流程</a></li><li class="sidebar-sub-header"><a href="/OIDocs/v1.1/workFlow.html#支付流程" class="sidebar-link">支付流程</a></li><li class="sidebar-sub-header"><a href="/OIDocs/v1.1/workFlow.html#更新日志" class="sidebar-link">更新日志</a></li></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h2 id="登陆注册流程"><a href="#登陆注册流程" aria-hidden="true" class="header-anchor">#</a> 登陆注册流程</h2><div class="tip custom-block"><p class="custom-block-title">当前文档版本</p><p>Version: <strong>1.0.0</strong><br></p></div><p><img src="/OIDocs/assets/img/login-graph.748ea0fd.png" alt></p><ol><li>游戏调用 SDK的登录接口</li><li>游戏拿到登录回调结果，如果 tokenInfo不为空，就按 Token流程继续处理步骤 3、4、5、6，否则就直接拿到userID跟userAccount</li><li>游戏拿到 tokenInfo传给自己的游戏服务器</li><li>游戏服务器把 tokenInfo传给平台服务器做验证</li><li>平台服务器以 JSON方式返回验证结果</li><li>游戏服务器把验证结果传回游戏中，根据 tokenCode 判断是否有效</li></ol><h2 id="支付流程"><a href="#支付流程" aria-hidden="true" class="header-anchor">#</a> 支付流程</h2><div class="tip custom-block"><p class="custom-block-title">提示</p><p>APP客户端调用支付接口时，需指定支付结果的通知回调地址notify_uri<br>
APP支付流程完成后，平台Server会把支付结果以POST方式通知给notify_uri<br>
notify_uri接收到参数后，游戏Server须进行<code>参数验证</code>和<code>发货状态验证</code>，如果参数合法且未发货，则给用户做游戏内充值。<br></p></div><p><img src="/OIDocs/assets/img/pay-graph2.e2d25846.png" alt></p><ol><li>游戏调用 SDK的支付接口</li><li>平台服务器返回支付结果</li><li>如果支付成功，则发送支付购买的结果到游戏服务器</li><li>游戏服务器如果收到消息，则回应200</li><li>游戏服务器通知游戏客户端发货成功</li></ol><div class="warning custom-block"><p class="custom-block-title">注意事项</p><p><strong>notify_uri在接收到通知消息后，回应200表示请求已经接收，无需平台服重复请求该地址进行通知。</strong><br><strong>如果未及时响应200状态码，则平台会触发重发机制。</strong></p></div><h2 id="更新日志"><a href="#更新日志" aria-hidden="true" class="header-anchor">#</a> 更新日志</h2><table><thead><tr><th>版本号</th><th style="text-align:center">更新内容</th><th style="text-align:right">推出时间</th><th style="text-align:right">停用时间</th></tr></thead><tbody><tr><td>1.0.0</td><td style="text-align:center">新增</td><td style="text-align:right">2018-05-30 12:00:00</td><td style="text-align:right">待定</td></tr></tbody></table></div><div class="content edit-link"><!----><!----></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/OIDocs/v1.1/android.html" class="prev">
          Android接入文档
        </a></span><!----></p></div></div></div></div>
    <script src="/OIDocs/assets/js/0.972f1dbe.js" defer></script><script src="/OIDocs/assets/js/app.665dcb49.js" defer></script>
  </body>
</html>
